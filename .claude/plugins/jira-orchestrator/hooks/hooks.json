{
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "# Jira Issue Detection Hook\n\nYou have detected one or more Jira issue keys in the user's message (pattern: [A-Z]{2,10}-\\d+).\n\n## Your Task\n\n1. **Acknowledge the Jira reference**: Briefly acknowledge that you've noticed the Jira issue key(s)\n2. **Provide helpful context**: If the user is asking to work on, fix, implement, or complete the issue, suggest using the `/jira:work` command for a structured orchestrated workflow\n3. **Don't be intrusive**: If the user is just mentioning the issue in passing or asking a simple question, don't interrupt their flow\n\n## Detection Patterns\nLook for phrases like: \"work on [ISSUE-KEY]\", \"fix [ISSUE-KEY]\", \"implement [ISSUE-KEY]\", \"complete [ISSUE-KEY]\", \"start [ISSUE-KEY]\", \"help with [ISSUE-KEY]\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "jira_get_issue|getJiraIssue|mcp__atlassian__getJiraIssue",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "# Triage Completion Trigger\n\nYou just fetched Jira issue details. Check if triage was requested, suggest triage if the user is trying to understand or work on this issue, but don't interrupt simple queries. Auto-trigger for /jira:work workflows."
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "harness_deploy|mcp__harness__execute_pipeline|harness_create_deployment",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "# Code Review Gate\n\nBefore creating a PR, verify: 1) Code review was performed by code-reviewer agent, 2) Review passed, 3) All issues addressed, 4) All tests passing. Block if review not completed."
          },
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/pr-size-guard.sh main"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "# Documentation Reminder\n\nA session or sub-agent has completed. Check if documentation was created for the work done. Run docs-reminder check if significant work was completed."
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "# Active Issue Check\n\nA new Claude Code session has started. Check for active Jira orchestrations, list session IDs, issue keys, current phases, and time since last activity."
          }
        ]
      }
    ]
  },
  "scripts": {
    "detect-jira-key": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/detect-jira-key.sh",
    "triage-check": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/triage-check.sh",
    "review-gate": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/review-gate.sh",
    "docs-reminder": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/docs-reminder.sh",
    "session-resume": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/session-resume.sh",
    "pr-size-guard": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/pr-size-guard.sh",
    "process-pending-worklogs": "${CLAUDE_PLUGIN_ROOT}/hooks/scripts/process-pending-worklogs.sh"
  },
  "auto_time_logging": {
    "enabled": true,
    "description": "Automatically log Claude's command execution time to Jira",
    "config_file": "${CLAUDE_PLUGIN_ROOT}/config/time-logging.yml",
    "processor": "${CLAUDE_PLUGIN_ROOT}/lib/pending_worklog_processor.py"
  }
}
